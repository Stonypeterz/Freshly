"use strict";var dalwizey=function(){var t="#coverpage",r="#titleStore",i="#page-container",n=function(){var i,n;$(t).slideUp();i=$(document).width();i<768&&(n=$(".navbar-collapse"),n.removeClass("in"),n.attr("aria-expanded",!1),n.css("height","1px"))},u=function(){var n=$(this),t=n.siblings("a.getr.active").first();t.length!==0&&t.removeClass("active");n.addClass("active")},f=function(t,f,e,o){var c=this,s,h;e||(e=i);$(e).html(t);n();dalwizey.UploadDoc();o===!1&&f!==window.location&&(s=$(r).val(),document.title=s,h=f.replace("?r=1","").replace("&r=1",""),window.history.pushState({pageUrl:h},s,h));u.call(c)},e=function(t,r){r||(r=i);$(r).html(t);n();dalwizey.UploadDoc()};return{coverPage:$(t),ToastTypes:{info:"info",success:"success",danger:"danger"},Toast:function(n){var t=$(n);t.insertBefore("#coverpage");t.show("slow")},getPage:function(t){var r=this,i=$(this).attr("href"),u=$(this).attr("data-host");return(!i||$(this).hasClass("chatconnector"))&&(i=$(this).attr("data-url")),i.indexOf("#")===-1?(i+=i.indexOf("?")===-1?"?r=1":"&r=1",$.ajax({url:i,method:"GET"}).fail(function(t){n();alert(t.statusText)}).done(function(n){f.call(r,n,i,u,t)})):void 0},postData:function(){var i=$(this),r=i.closest("form"),u=r.serialize(),t=r.attr("action"),f=i.attr("data-host");return t||(t=i.attr("data-url")),t+=t.indexOf("?")===-1?"?r=1":"&r=1",$.ajax({url:t,data:u,method:"POST"}).fail(function(t){n();alert(t.statusText)}).done(function(n){e(n,f)})},payStack:function(n,t,i){PaystackPop.setup({key:n,email:t,amount:i,container:"paystackHost",callback:function(){alert("successfully subscribed. transaction ref is "+response.reference)}})},UploadDoc:function(t,i,r){var u=document.getElementById("fileUploader");u&&(i||(i="file"),t||(t="/account/UpdateAvatar"),r||(r="image/*"),$("#fileUploader:not(.dz-clickable)").dropzone({url:t,paramName:i,maxFilesize:2,acceptedFiles:r,previewsContainer:"#docPreview",init:function(){var t=this;t.on("sending",function(n,t,i){dalwizey.coverPage.show();var r=document.getElementsByName("__RequestVerificationToken")[0];r&&i.append("__RequestVerificationToken",$(r).val())});t.on("success",function(n,t){dalwizey.Toast(t)});t.on("error",function(n,t){alert(t)});t.on("complete",function(i){n();t.removeFile(i)})}}))}}}();$(function(){$(".hider").on("click",function(){var n=$(this).attr("data-target");$(n).hide(300,function(){$(n+" > #imgPreview").html()})});$(window).on("popstate",function(){var t=event.state,n;if(!t||(n=document.querySelector("a.getr[href='"+t.pageUrl+"']"),!n))return!1;dalwizey.getPage.call(n,!0)});$(document).on("click",".getr",function(n){n.preventDefault();dalwizey.coverPage.show();dalwizey.getPage.call(this,!1)});$(document).on("click",".postr",function(n){n.preventDefault();dalwizey.coverPage.show();dalwizey.postData.call(this,!1)});$(document).on("click",".payr",function(){var n=document.getElementById("frmActivate");n!==null&&$(n).append('<input type="hidden" name="r" value="1" />')});$(document).on("change","#Gender",function(){var t=$(this).val(),n=$("#Avatar");n.hide("fast");n.attr("src","/images/"+t+"Avatar.png");n.show("fast")});Dropzone.autoDiscover=!1;dalwizey.UploadDoc()});